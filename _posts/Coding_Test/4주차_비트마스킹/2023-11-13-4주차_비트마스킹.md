---
layout : single
categories: 4_week_Bit_Masking
sidebar_main: true
---

# 4ì£¼ì°¨_ë¹„íŠ¸ë§ˆìŠ¤í‚¹

- 19942_ë‹¤ì´ì–´íŠ¸

  ```cpp
  #include <bits/stdc++.h>
  using namespace std;
  const int INF=987654231;
  int n,mp,mf,ms,mv;
  int b,c,d,e,ret=INF, sum; 
  struct A{ 
  	int mp, mf, ms, mv, cost;
  }a[16]; // struct êµ¬ì¡°ë¥¼ 16ê°œ ë‹´ì„ ìˆ˜ ìˆëŠ” ë°°ì—´ ì„ ì–¸ 
   map<int, vector<vector<int>>> ret_v; // key, value <ê°€ê²©, ì¬ë£Œêµ¬ì„±>  
  
   int main(){
   	cin >> n;
   	cin >> mp >> mf >> ms >> mv;
   	// ë¹„íŠ¸ ë§ˆìŠ¤í‚¹ 
   	for (int i=0; i<n; i++){
   		cin >> a[i].mp >> a[i].mf >> a[i].ms>> a[i].mv>> a[i].cost;
   }
   	for (int i=0; i< (1<<n); i++){ //2ì˜nì œê³±, ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ì— ëŒ€í•´ 00,01,10,11 ...
  		b=c=d=e=sum=0; 
  		vector<int> v;
  		
  		for(int j=0; j<n; j++){ // ì‹ì¬ë£Œ ê°œìˆ˜, ëª¨ë“  ì¬ë£Œ  íƒìƒ‰  
  			if(i&(1<<j)){ // ì‹ì¬ë£Œ ê³ ë¥´ê¸°, ë¹„íŠ¸ê°€ 1ì¸ì§€ íŒë‹¨ //01ì€ 1, 10ì€ 2. 11ì€ {1,2} 
  				v.push_back(j+1);
  				b+=a[j].mp; 
  				c+=a[j].mf;
  				d+=a[j].ms;
  				e+=a[j].mv;
  				sum+=a[j].cost;
  				
  			}
  		}
  		if(b>=mp && c>=mf && d>=ms && e>=mv){
  			if(ret>=sum){
  				ret=sum;
  				ret_v[ret].push_back(v);
  			}
  		}
   		 	
  	}
  	
  	if(ret ==INF) cout << -1 << "\\n" ;
  	else{
  		sort(ret_v[ret].begin(), ret_v[ret].end());
  		cout << ret << "\\n"; // ìµœì†Œ ë¹„ìš© 
  		for(int a: ret_v[ret][0]){
  			cout << a <<" "; // ìµœì†Œ ë²ˆí˜¸  
  		}
  		
  	}
  ```

  

- 1285_ë™ì „ ë’¤ì§‘ê¸°ğŸ”´ğŸ”´ğŸ”´ğŸ”´_ (í•´ê²°)_2023-11-18

  - ë™ì „ì˜ ìƒíƒœê°’ì„ í•˜ë‚˜ì˜ ìˆ«ìë¡œ ë§Œë“œëŠ”ê²Œ í¬ì¸íŠ¸ HHTâ†’4

  ```cpp
  #include <bits/stdc++.h>
  using namespace std;
  const int INF=987564321;
  int n;
  string s;
  int a[20], ret=INF; //a: ië²ˆì§¸ í–‰ì— ìˆëŠ” ë™ì „ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜
  // í–‰ë§Œ ë’¤ì§‘ìœ¼ë©´ ì—´ì˜ ìµœì í•´ëŠ” ì •í•´ì ¸ ìˆë‹¤. 
  void go(int here){
  	//í–‰ ë‹¤ ë’¤ì§‘ê³  ì—´ ì¡°ê±´ ì²´í¬  
  	if( here ==n ){
  		int sum=0;
  		for(int i=1; i<= (1 << (n-1)); i*=2){ //iëŠ” 1ë²ˆì§¸ H(1)H(2)T(4) 
  			int cnt=0;
  			for(int j=1; j<=n; j++) if(a[j] & i) cnt++; //i ë²ˆì§¸ ì—´ì—ì„œ T ê°œìˆ˜ cntë¡œ ì²´í¬  
  			sum += min(cnt,n-cnt); //  ì—´ ì•ˆë’¤ì§‘ì—ˆì„ë•Œ tê°œìˆ˜  vs  ì—´ ë’¤ì§‘ì—ˆì„ë•Œ tê°œìˆ˜ (n-cnt) ë¹„êµí•´ì„œ ë” í° ìˆ˜ 
  			
  		} 
  		ret =min(ret,sum); //ë’·ë©´ì´ ìœ„ë¥¼ í–¥í•˜ì—¬ ë†“ì¼ ìˆ˜ ìˆëŠ” ë™ì „ì˜ ìµœì†Œ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤. 
  		return;
  	} 
  	
  	go(here+1); // ë™ì „ ì•ˆë’¤ì§‘ê³  
  	
  	a[here]=~a[here]; // ë’¤ì§‘ì–´ì„œ  
  	go(here +1); //  ë’¤ì§‘ì€ ê±¸ë¡œ go  
  }
  int main (){
  	cin >> n;
  	for (int i=1; i<=n; i++){
  			cin >> s;
  			int value=1; 
  			for(int j=0; j<s.size(); j++){
  				if(s[j]=='T') a[i] |= value; // a[i]ì—ì„œ value ë²ˆì§¸ ë¹„íŠ¸ ì¼œê¸°  
  				value *=2; // 1 2 4 8 16 ...ìœ¼ë¡œ ê° ë¹„íŠ¸ ìë¦¬ìˆ˜ì— í•¨ì—°ì‚° í•˜ê¸° ìœ„í•¨  
  				//s[j]ê°€ 'T'ì¼ ë•Œ, valueê°€ 2ë¼ë©´ a[i]ì˜ ë‘ ë²ˆì§¸ ë¹„íŠ¸ê°€ 1ë¡œ ì„¤ì •
  		}
  	}
  	
  	go(1); // 1ë¶€í„° ì‹œì‘í•´ì„œ  
  	cout << ret << "\\n";
  	return 0;
  }
  ```

- 17471_ê²Œë¦¬ë§¨ë”ë§_ ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´_ (ì•„ë§ˆ í•´ê²°)_2023-11-18

  ```cpp
  #include <bits/stdc++.h>
  using namespace std;
  int n, INF=987654321; // ë…¸ë“œ ê°œ ìˆ˜  ìµœëŒ€ 10 
  int a[11], m,temp,ret=INF, comp[11], visited[11];
  vector<int> adj[11];
  
  pair<int,int> dfs(int here, int value){
  	visited[here]=1;
  	pair<int,int> ret ={1, a[here]}; // ë‹´ì„ ê²°ê³¼ ê°’: {ì—°ê²° ëœ ë…¸ë“œì˜ ì‚¬ì´ì¦ˆ, ì¸êµ¬ìˆ˜ì˜ ì´í•©} 
  	
  	
  	for (int there: adj[here]){ // ì—°ê²° ë…¸ë“œ í™•ì¸  
  		if(comp[there] != value) continue; // ë‚´ê°€ ì¸ìë¡œ ë°›ì€ valueì™€ ìƒ‰ì´ ë‹¬ë¼! 
  		if(visited[there]) continue;
  		pair<int,int> _temp =dfs(there, value);
  		ret.first += _temp.first;
  		ret.second += _temp.second; // ì¸êµ¬ìˆ˜ ë”í•˜ ê¸°  
  		}
  		return ret;	
  } 
  // êµ¬ì—­ì„ 0ê³¼ 1 ë‘ê°œë¡œ ë‚˜ëˆ”  
  int main (){
  	cin >> n;
  	for (int i=1; i<=n; i++){
  		cin >> a[i]; // ê° êµ¬ì—­ì˜ ì¸êµ¬ ìˆ˜ ì €ì¥ 
  		
  	}
  	for(int i=1; i<=n; i++){
  		cin >> m;
  		for(int j=0; j<m; j++){
  			cin >>temp;
  			adj[i].push_back(temp); // <- ì—¬ê¸° ì´ ë¶€ë¶„ 2ì°¨ì› ë²¡í„°ì—¬ì•¼ ê°€ëŠ¥í•œê±° ì•„ë‹Œê°€? 
  			adj[temp].push_back(i); // ì–‘ë°©í–¥ ì—°ê²°  
  		}
  	} 
  	
  	for (int i=1; i<(1<<n)-1;i++){ // ë…¸ë“œë¥¼ ìƒ‰ì¹ í•˜ëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜  
  		fill(comp, comp+11,0); // ë…¸ë“œ ìƒ‰ì¹ í•˜ëŠ” ë°°ì—´ ì´ˆê¸°í™”  
  		fill(visited, visited+11,0); //dfs ë•Œ í•„ìš”  
  		int idx1=-1, idx2 =-1;
  		for(int j=0; j<n; j++){
  			if(i & (1<<j)){ // ë§Œì•½ 1ì„ ë§Œë‚˜ë©´  
  			comp[j+1]=1; // ë…¸ë“œ ìƒ‰ì¹ , ë…¸ë“œëŠ” 1ë¶€í„° ìˆìœ¼ë‹ˆê¹Œ +1  
  			idx1=j+1; // 1 êµ¬ì—­ ì‹œì‘ ì¸ë±ìŠ¤  
  			}
  			else idx2=j+1; // 0êµ¬ì—­ ì‹œì‘ ì¸ë±ìŠ¤  
  		} 
  		pair<int,int> comp1=dfs(idx1,1);
  		pair<int,int> comp2=dfs(idx2,0);
  		if(comp1.first + comp2.first==n) ret = min(ret, abs(comp1.second-comp2.second));
  		 // ìª¼ê°œì§„ êµ¬ì—­ì˜ í•©ì´ ì „ì²´ nì´ ë˜ëŠ”ì§€, ë§Œì•½ 3ê°œë¡œ ìª¼ê°œì§€ë©´ <ní¬ê¸°ë¥¼ ê°€ì§ 
  	}
  	cout << (ret == INF ? -1: ret) <<"\\n";
  }
  ```

- 1987_ ì•ŒíŒŒë²³ğŸ”´ğŸ”´_2023-11-18

  ```cpp
  #include <bits/stdc++.h>
  using namespace std;
  
  int dy[]={-1,0,1,0};
  int dx[]={0,1,0,-1};
  int n,m,x,y;
  string s;
  char mp[20][20];
  int ret=-1;
  
  void go(int y, int x, int num, int cnt){
  	ret=max(ret, cnt);
  	
  	for(int i=0; i<4; i++){
  		
  		int ny= y+ dy[i];
  		int nx= x+ dx[i];
  
  		if(nx>=m || nx<0 || ny >=n || ny<0 ) continue;
  		
  		int next= (1<< (mp[ny][nx]-'A'));
  		if((num & next)==0) go(ny,nx,num | next,cnt+1); // ë”í•˜ê¸°   
  		// ì•ŒíŒŒë²³ ë°©ë¬¸ ì—¬ë¶€ ê²€ì‚¬  
  		// ABC ë°Ÿê³  ê·¸ ë‹¤ìŒ Cë¥¼ ë˜ ë°Ÿìœ¼ë©´ 1+2+4 & 4 ê°’ì´ 1ì´ ë‚˜ì™€ì„œ ëª»ê°  
  	}
  	return;
  	
  } 
  
  int main(){
  	cin >> n >> m;
  	ios::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);
  	for(int i=0; i<n;i++){
  		cin >> s;
  		for(int j=0;j<m;j++){
  			mp[i][j]=s[j];
  		}
  	}
  	
  	go(0,0, 1 << (mp[0][0]-'A') ,1); // ì¶œë°œì ë„ í¬í•¨í•œë‹¤ í–ˆìœ¼ë‹ˆ cnt=1ë¶€í„° ì‹œì‘  
  	
  	cout <<ret << "\\n";
  	
  	return 0;
  }
  ```